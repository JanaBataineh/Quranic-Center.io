<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>الإعدادات - لوحة التحكم</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* تنسيقات خاصة بالصفحة الإدارية */
    .admin-header {
      background: linear-gradient(135deg, var(--primary-dark) 0%, #5a6b47 100%);
      color: #fff;
      padding: 2rem 0 1.5rem 0;
      text-align: center;
      border-radius: 0 0 1.5rem 1.5rem;
      margin-bottom: 2rem;
    }
    .admin-header h1 {
        margin: 0;
        font-size: 2.2rem;
    }
    .settings-container {
        display: flex;
        gap: 2rem;
        flex-wrap: wrap;
    }
    .settings-nav {
        flex: 0 0 250px;
        background: #fff;
        padding: 1rem;
        border-radius: 0.75rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        height: fit-content;
    }
    .settings-nav button {
        display: block;
        width: 100%;
        text-align: right;
        padding: 0.75rem 1rem;
        margin-bottom: 0.5rem;
        border: none;
        background: transparent;
        border-radius: 0.5rem;
        font-size: 1rem;
        cursor: pointer;
        transition: background-color 0.2s;
    }
    .settings-nav button:hover:not(.active) {
        background-color: var(--secondary);
    }
    .settings-nav button.active {
        background-color: var(--primary);
        color: white;
        font-weight: bold;
    }
    .settings-content {
        flex: 1;
        min-width: 300px;
    }
    .setting-section {
        background: #fff;
        padding: 2rem;
        border-radius: 0.75rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        margin-bottom: 1.5rem;
    }
    .setting-section.hidden {
        display: none;
    }
    .form-group {
        margin-bottom: 1.5rem;
    }
    .form-label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #333;
    }
    .form-input {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid var(--muted);
        border-radius: 0.5rem;
        font-size: 1rem;
    }
    .return-button-container {
        padding: 1rem;
        border-bottom: 1px solid #ddd;
        margin-bottom: 1.5rem;
    }
  </style>
</head>
<body>
  
    <header class="admin-header">
        <h1>إدارة الإعدادات</h1>
        <p>تغيير الإعدادات العامة والأمنية للنظام.</p>
    </header>

    <main class="container">
        <div class="return-button-container">
            <a href="dashbord.html" class="btn btn-sm btn-outline" style="min-width: 150px;">
                ← العودة للوحة التحكم
            </a>
        </div>

        <div class="settings-container">
            <div class="settings-nav">
                <button class="setting-tab-btn active" data-target="general-settings">الإعدادات العامة</button>
                <button class="setting-tab-btn" data-target="security-settings">الأمان وكلمة المرور</button>
                <button class="setting-tab-btn" data-target="notification-settings">إعدادات الإشعارات</button>
            </div>
            
            <div class="settings-content">
                
                <section id="general-settings" class="setting-section">
                    <h2>الإعدادات العامة</h2>
                    <form id="generalSettingsForm">
                        <div class="form-group">
                            <label for="siteName" class="form-label">اسم الموقع</label>
                            <input type="text" id="siteName" class="form-input" value="معاهد الوحي" required>
                        </div>
                        <div class="form-group">
                            <label for="adminEmail" class="form-label">بريد الأدمن الافتراضي</label>
                            <input type="email" id="adminEmail" class="form-input" value="admin@example.com" required>
                        </div>
                        <button type="submit" class="btn btn-primary">حفظ الإعدادات العامة</button>
                    </form>
                </section>

                <section id="security-settings" class="setting-section hidden">
                    <h2>الأمان وكلمة المرور</h2>
                    <form id="securitySettingsForm">
                        <div class="form-group">
                            <label for="currentPassword" class="form-label">كلمة المرور الحالية *</label>
                            <input type="password" id="currentPassword" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="newPassword" class="form-label">كلمة المرور الجديدة *</label>
                            <input type="password" id="newPassword" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmPassword" class="form-label">تأكيد كلمة المرور الجديدة *</label>
                            <input type="password" id="confirmPassword" class="form-input" required>
                        </div>
                        <button type="submit" class="btn btn-danger">تغيير كلمة المرور</button>
                    </form>
                </section>

                <section id="notification-settings" class="setting-section hidden">
                    <h2>إعدادات الإشعارات</h2>
                    <form id="notificationSettingsForm">
                        <div class="form-group">
                            <label for="newCenterNotification" class="form-label">
                                <input type="checkbox" id="newCenterNotification" checked> 
                                إرسال إشعار عند تقديم مركز جديد للموافقة.
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="newUserNotification" class="form-label">
                                <input type="checkbox" id="newUserNotification"> 
                                إرسال إشعار عند تسجيل مستخدم جديد.
                            </label>
                        </div>
                        <button type="submit" class="btn btn-primary">حفظ إعدادات الإشعارات</button>
                    </form>
                </section>
                
            </div>
        </div>

    </main>

<script>
    // ******************************************************
    // منطق تشغيل الصفحة بالكامل
    // ******************************************************

    // 1. تفعيل التنقل بين الأقسام (Tabs)
    document.querySelectorAll('.setting-tab-btn').forEach(button => {
        button.addEventListener('click', function() {
            const targetId = this.getAttribute('data-target');

            // إزالة حالة النشاط من جميع الأزرار وإخفاء جميع الأقسام
            document.querySelectorAll('.setting-tab-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.setting-section').forEach(section => section.classList.add('hidden'));

            // تفعيل الزر الحالي وإظهار القسم المستهدف
            this.classList.add('active');
            document.getElementById(targetId).classList.remove('hidden');
        });
    });

    // 2. محاكاة عمل نماذج الإعدادات (لتشغيل كل شيء في الصفحة)
    
    // دالة عامة لمحاكاة عملية الحفظ
    function handleFormSubmit(e, formName) {
        e.preventDefault();
        
        // هنا يمكن إضافة منطق التحقق من البيانات قبل إرسالها فعليًا
        
        const submitButton = e.target.querySelector('button[type="submit"]');
        const originalText = submitButton.textContent;
        
        submitButton.disabled = true;
        submitButton.textContent = 'جاري الحفظ...';
        
        // محاكاة تأخير الإرسال
        setTimeout(() => {
            alert(`تمت محاكاة حفظ الإعدادات بنجاح في قسم: ${formName}.`);
            submitButton.textContent = originalText;
            submitButton.disabled = false;
            // يمكن هنا إعادة تعيين النموذج إذا لزم الأمر
            if(formName === 'الأمان') e.target.reset(); 

        }, 1000);
    }

    // ربط الدوال بالنماذج
    document.getElementById('generalSettingsForm').addEventListener('submit', (e) => handleFormSubmit(e, 'الإعدادات العامة'));
    document.getElementById('securitySettingsForm').addEventListener('submit', (e) => handleFormSubmit(e, 'الأمان'));
    document.getElementById('notificationSettingsForm').addEventListener('submit', (e) => handleFormSubmit(e, 'الإشعارات'));

</script>
</body>
</html>