<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ© - Ù…Ø¹Ø§Ù‡Ø¯ Ø§Ù„ÙˆØ­ÙŠ</title>
    <meta name="description" content="Ø§Ø³ØªÙƒØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø§Ø±Ø¯Ù†ÙŠØ© Ø§Ù„Ù‡Ø§Ø´Ù…ÙŠØ© Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØµÙÙŠØ©">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* ØªÙ†Ø³ÙŠÙ‚ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ù„ØºØ±Ø¶ Ø§Ù„Ø¹Ø±Ø¶ */
        .center-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        .center-card {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }
        .center-card h3 {
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
        }
        .card-actions {
            margin-top: 1rem;
            display: flex;
            gap: 0.75rem;
        }
    </style>
</head>
<body data-page="centers">
    <nav class="navbar">
        <div class="container">
            <div class="navbar-content">
                <a href="index.html" class="logo">
                    <span style="font-weight:bold;">Ù…Ø¹Ø§Ù‡Ø¯ Ø§Ù„ÙˆØ­ÙŠ</span>
                </a>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="index.html" class="nav-link">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li class="nav-item"><a href="centers.html" class="nav-link active">Ø§Ù„Ù…Ø±Ø§ÙƒØ²</a></li>
                    <li class="nav-item"><a href="courses.html" class="nav-link">Ø§Ù„Ø¯ÙˆØ±Ø§Øª</a></li>
                    <li class="nav-item"><a href="contact.html" class="nav-link">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
                    <li class="nav-item"><a href="login.html" class="nav-link">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></li>
                </ul>
                <button class="mobile-menu-btn"></button>
            </div>
        </div>
    </nav>
    
    <section class="page-header" style="background: #f1f1f1; padding: 3rem 0; text-align: center;">
        <div class="container">
            <h1>Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ù‚Ø±Ø¢Ù†ÙŠØ© Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</h1>
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ù…Ø¯Ø±Ø¬Ø© Ù‡Ù†Ø§ ØªÙ…Øª Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡Ø§ ÙˆØ§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„ÙŠÙ‡Ø§ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.</p>
        </div>
    </section>

    <main class="container py-8">
        
        <section class="centers-listings">
            <div class="center-cards-grid" id="centersListings">
                <p id="loadingMessage" style="text-align:center; padding: 2rem;">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø±Ø§ÙƒØ²...</p>
            </div>
        </section>

    </main>

    <script src="data.js"></script>
    <script src="script.js"></script>

    <script>
        // 1. Ø§Ù„Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† LocalStorage (Ø§Ù„ØªÙŠ Ø­ÙØ¸Ù‡Ø§ Ø§Ù„Ø£Ø¯Ù…Ù†)
        function getCentersFromStorage() {
            const storedData = localStorage.getItem('mockCenters');
            if (!storedData) {
                 // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorageØŒ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† data.js Ø§Ù„Ø£ØµÙ„ÙŠ
                 // Ø¨Ù…Ø§ Ø£Ù†Ù†Ø§ Ù„Ø§ Ù†Ø³ØªØ·ÙŠØ¹ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù€ data.js Ù…Ø¨Ø§Ø´Ø±Ø©ØŒ Ø³Ù†Ø±Ø¬Ø¹ Ù…ØµÙÙˆÙØ© ÙØ§Ø±ØºØ© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
                 console.warn("Local Storage ÙØ§Ø±ØºØŒ Ø¬Ø§Ø±ÙŠ Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©.");
                 return [
                    { id: '1', name: 'Ù…Ø±ÙƒØ² Ø§Ù„ØµØ¯ÙŠÙ‚', city: 'Ø§Ø±Ø¨Ø¯', address: 'Ø§Ù„Ù…ØºÙŠØ±', phone: '+96279xxxxxx', established: 1999, status: 'approved' },
                    { id: '2', name: 'Ù…Ø±ÙƒØ² Ø§Ø¨Ù† ØªÙŠÙ…ÙŠØ©', city: 'Ø§Ù„Ø¨Ù„Ù‚Ø§Ø¡', address: 'Ø§Ù„Ø´Ù…Ø§Ù„ÙŠ', phone: '+96279yyyyyy', established: 1997, status: 'approved' },
                 ];
            }
            
            try {
                return JSON.parse(storedData);
            } catch (e) {
                console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„Ù…Ø®Ø²Ù†Ø©:", e);
                return [];
            }
        }

        // 2. Ø¯Ø§Ù„Ø© Ø¨Ù†Ø§Ø¡ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù…Ø±ÙƒØ²
        function createCenterCard(center) {
            const card = document.createElement('div');
            card.className = 'card dashboard-card'; 
            card.innerHTML = `
                <div class="card-content">
                    <h3>${center.name}</h3>
                    <p class="center-city" style="color:var(--muted);">${center.city} | ØªØ£Ø³Ø³ ${center.established}</p>
                    <p class="center-address">${center.address}</p>
                    <div class="card-actions">
                        <a href="tel:${center.phone}" class="btn btn-secondary btn-sm">Ø§ØªØµÙ„ Ø¨Ø§Ù„Ù…Ø±ÙƒØ²</a>
                        <a href="#" class="btn btn-outline btn-sm">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</a>
                    </div>
                </div>
            `;
            return card;
        }

        // 3. Ø¯Ø§Ù„Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function renderUserCenters() {
            const container = document.getElementById('centersListings');
            const allCenters = getCentersFromStorage();
            
            // ğŸŒŸ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØµÙÙŠØ©: Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„ØªÙŠ Ø­Ø§Ù„ØªÙ‡Ø§ 'approved' ÙÙ‚Ø· ğŸŒŸ
            const approvedCenters = allCenters.filter(center => center.status === 'approved');

            container.innerHTML = ''; 

            if (approvedCenters.length === 0) {
                container.innerHTML = '<p style="text-align:center; padding: 2rem; color: #555;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø±Ø§ÙƒØ² Ù…Ø¹ØªÙ…Ø¯Ø© ÙˆÙ…ØªØ§Ø­Ø© Ù„Ù„Ø¹Ø±Ø¶ Ø­Ø§Ù„ÙŠØ§Ù‹.</p>';
                return;
            }

            approvedCenters.forEach(center => {
                const card = createCenterCard(center);
                container.appendChild(card);
            });
        }

        // ØªØ´ØºÙŠÙ„ Ø¯Ø§Ù„Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', renderUserCenters);
    </script>
</body>
</html>